<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="l05.js"></script>
    <script type="text/javascript" src="reactive.js"></script>
    <script type="text/javascript" src="reactive_star_widget.js"></script>
    <link rel="stylesheet" type="text/css" href="stars.css">
  </head>
  <body onload="var signup = reactiveTextbox();
                var many = starsWidget(['Clover', 'Couscous Kitchen', 'Jerusalem Cafe (former)', 'Jose\'s Mexican', 'Momogoose']);
                $('#here')
                .append($('<div>')
                  .append($('<span>').text('Sign up here: '))
                  .append(signup.node))
                .append(many.node)
                .append(reactiveText(sum(result('Highest rating: '), many.signal)))
                .append(reactiveText(read(many.signal, function(best) {
                   if (best < 4) {
                     return result('Hold on.');
                   } else {
                     return read(signup.signal, function(who) {
                       return result('Attention, ' + who + '!  Time to go.');
                     });
                   }
                 })));">
    <div id="here"></div>
  </body>
</html>
